[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "what if",
    "section": "",
    "text": "Preface",
    "crumbs": [
      "Home",
      "Preface"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "This is a book created from markdown and executable code.\nSee Knuth (1984) for additional discussion of literate programming.\n\n1 + 1\n\n[1] 2\n\n\n\n\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "2  Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Summary</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "References"
    ]
  },
  {
    "objectID": "A definition of causal effect.html",
    "href": "A definition of causal effect.html",
    "title": "1  A definition of causal effect",
    "section": "",
    "text": "1.1 Individal causal effects\n对于个体 \\(i\\) 的因果效应符号表达: \\[Y_i^a=1 ≠ Y_i^a=0\\]\n另外：\\(Y^{a=1}\\) 或 \\(Y^{a=0}\\)，表示随机变量。\n正式的个体因果效应的定义：\n变量： \\(Y^{a=1}\\) 或 \\(Y^{a=0}\\) 被称为潜在结局或反事实结局\n对一致性的理解(Consistency)：假设某人接受某种治疗后的结局和观察到的这个人接受治疗的结果一致，用符号表达：if \\(A_i = a\\), then \\(Y_i^a = Y_i^A = Y_i\\)",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>A definition of causal effect</span>"
    ]
  },
  {
    "objectID": "index.html#r学习资源推荐",
    "href": "index.html#r学习资源推荐",
    "title": "R语言学习笔记：从数据清洗到高级统计学和生物信息学",
    "section": "",
    "text": "在线书籍：\n\nR Graphics Cookbook, 2nd edition：https://r-graphics.org\nR for Data Science (2e)：https://r4ds.hadley.nz\nQuarto Guide：https://quarto.org/docs/guide/\nHappy Git and GitHub for the useR：https://happygitwithr.com\nBookdown：https://bookdown.org\n\n\n\n论坛/网站：\n\n交互式R语言学习网站：https://www.codecademy.com/learn/learn-r\nR CODER：https://r-coder.com\nStack Overflow：https://stackoverflow.com\nR-Bloggers：https://www.r-bloggers.com\nPosit Cheatsheets：https://posit.co/resources/cheatsheets/\nKaggle：https://www.kaggle.com/code?language=R\nThe R Graph Gallery：https://r-graph-gallery.com\nPosit Community：https://community.rstudio.com",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>R语言学习笔记：从数据清洗到高级统计学和生物信息学</span>"
    ]
  },
  {
    "objectID": "index.html#另外ps我超爱大花",
    "href": "index.html#另外ps我超爱大花",
    "title": "what if",
    "section": "另外PS：我超爱大花",
    "text": "另外PS：我超爱大花\n这一份读书笔记，想系统性的认真学习因果推断，参考书籍《what if》:\nhttps://www.hsph.harvard.edu/miguel-hernan/causal-inference-book/\n链接中包含可运行代码，便于练习，每周上完课程后将自己所学进行总结，\n进一步复习和完成代码练习，再将学习总结资料搬运到各个平台。",
    "crumbs": [
      "Home",
      "Preface"
    ]
  },
  {
    "objectID": "index.html#ps大花大花",
    "href": "index.html#ps大花大花",
    "title": "what if",
    "section": "PS：大花大花！",
    "text": "PS：大花大花！\n这一份读书笔记，想系统性的认真学习因果推断，参考书籍《what if》:\nhttps://www.hsph.harvard.edu/miguel-hernan/causal-inference-book/\n链接中包含可运行代码，便于练习，每周上完课程后将自己所学进行总结，\n进一步复习和完成代码练习，再将学习总结资料搬运到各个平台。",
    "crumbs": [
      "Home",
      "Preface"
    ]
  },
  {
    "objectID": "A definition of causal effect.html#average-causal-effect",
    "href": "A definition of causal effect.html#average-causal-effect",
    "title": "1  A definition of causal effect",
    "section": "1.2 Average causal effect",
    "text": "1.2 Average causal effect\n正式的人群平均因果效应的定义：\n\n\n\n\n\n\n\n群体的平均因果效应不存在不代表个体的因果效应不存在\n\n\n\n每个个体间的因果效应虽然不同，但是每个个体的因果效应的均值可能刚好相互抵消 ，这个时候群体因果效应就是0了，如果每个个体都不存在因果效应，群体也没有因果效应，这种情况，称之为the sharp causal null hypothesis 得到满足\n\n\n\n\n\n\n\n\nFine Point 1.2\n\n\n\nMultiple versions of treatment 假设干预都是一模一样的，可以称为 treatment variation irrelevance",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>A definition of causal effect</span>"
    ]
  },
  {
    "objectID": "A definition of causal effect.html#individal-causal-effects",
    "href": "A definition of causal effect.html#individal-causal-effects",
    "title": "1  A definition of causal effect",
    "section": "",
    "text": "为什么无法识别个体因果效应\n\n\n\nIndividual causal effects are defined as a contrast of the values of counterfactual outcomes, but only one of those outcomes is observed for each individualthe one corresponding to the treatment value actually experienced by the individual. All other counterfactual outcomes remain unobserved. Because of missing data, individual effects cannot be identified, i.e., they cannot be expressed as a function of the observed data (See Fine Point 2.1 for a possible exception.)\n\n\n\n\n\n\n\n\nFine Point 1.1\n\n\n\nno interaction between units或者 stable-unit-treatment-value assumption (SUTVA)\n隐含的条件是，每个个体接受治疗后的效应，不会因为其他个体是否接受治疗而改变",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>A definition of causal effect</span>"
    ]
  },
  {
    "objectID": "A definition of causal effect.html#measures-of-causal-effect",
    "href": "A definition of causal effect.html#measures-of-causal-effect",
    "title": "1  A definition of causal effect",
    "section": "1.3 Measures of causal effect",
    "text": "1.3 Measures of causal effect\n没有因果效应可以这样判断：\n\n加法尺度或称乘法尺度的选择根据需求确定",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>A definition of causal effect</span>"
    ]
  },
  {
    "objectID": "A definition of causal effect.html#random-variability",
    "href": "A definition of causal effect.html#random-variability",
    "title": "1  A definition of causal effect",
    "section": "1.4 Random variability",
    "text": "1.4 Random variability\n抽样得到的率和真实人群的率存在误差，可以通过增大样本量来逼近——大数定理\n\n因果推断中的随机误差还可能来自反事实结果的不确定性 例如：接受治疗90%死亡，不接受20%死亡\nThus, in causal inference, random error derives from sampling variability, nondeterministic counterfactuals, or both.\n\n\n\n\n\n\n进一步理解：nondeterministic counterfactuals\n\n\n\n每个个体暴露后产生结局Y的值不是固定的，而是满足一个分布\n\n每个个体暴露后结局可能分布的条件下的结局期望，代表这个人暴露后的结局 再进一步对所有人求期望",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>A definition of causal effect</span>"
    ]
  },
  {
    "objectID": "A definition of causal effect.html#causation-versus-association",
    "href": "A definition of causal effect.html#causation-versus-association",
    "title": "1  A definition of causal effect",
    "section": "1.5 Causation versus association",
    "text": "1.5 Causation versus association\n注意和前面的因果效应的判断区别，这里指的是association 用的是proportion\n\n因果和关联的区别的理解\n\n因果效应：整个人群中的暴露的风险，无条件的 效应（关联）：整个人群中，暴露人群中的风险，是有条件的，condition on A = 1\n以后说因果就说 causal effect ，说关联只说effect",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>A definition of causal effect</span>"
    ]
  },
  {
    "objectID": "A definition of causal effect.html#summarize",
    "href": "A definition of causal effect.html#summarize",
    "title": "1  A definition of causal effect",
    "section": "1.6 Summarize",
    "text": "1.6 Summarize\n\n个体因果效应和人群平均因果效应的符号表示\nthe sharp causal null hypothesis，群体因果效应为0不代表个体因果效应为0\n因果效应的度量 VS 关联的度量（都是三种）\n因果推断中误差来源有两种，分别是抽样的随机变异和反事实结果的不确定性（个体暴露后的结局不是定值而是服从一个概率分布）\n关联和因果的区别",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>A definition of causal effect</span>"
    ]
  },
  {
    "objectID": "Randomized experiments.html",
    "href": "Randomized experiments.html",
    "title": "2  Randomized experiments",
    "section": "",
    "text": "2.1 Randomization\n随机化可以产生可交换性\n通俗的理解：是否干预和干预后的反事实的结果相互独立， 因为随机化，治疗组和对照组是均一的，也就是说两组的人是可以互相交换的 并且，任何一个人干预后的结果和他是否接受干预（随机分配到治疗组或对照组）是独立的\n理想化的随机试验中，干预组观察到的结局等于全人群干预后的反事实结局 对照组观察到的结局也等于全人群干预后的反事实结局，也即关联等于因果。 \\[ Pr[Y^{a=1}=1]=Pr[Y=1|A=1] \\] \\[ Pr[Y^{a=0}=1]=Pr[Y=1|A=0] \\]\n全可交换性\\(Y^A⊥A\\),均值可交换性\\(Y^a⊥A\\)\n想证明\\(E[Y^a]=E[Y|A=a]\\),第一步一致性：\\(E[Y|A=a]=E[Y^a|A=a]\\) 第二步均值可交换性：\\(E[Y^a|A=a]=E[Y^a]\\)\n\\(Y^a⊥A\\)和\\(Y⊥A\\)不是一回事，前者是干预的分配和干预的反事实结局独立，后者 是干预和结局独立。",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Randomized experiments</span>"
    ]
  },
  {
    "objectID": "Randomized experiments.html#conditional-randomization",
    "href": "Randomized experiments.html#conditional-randomization",
    "title": "2  Randomized experiments",
    "section": "2.2 Conditional randomization",
    "text": "2.2 Conditional randomization",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Randomized experiments</span>"
    ]
  },
  {
    "objectID": "Randomized experiments.html#standardization",
    "href": "Randomized experiments.html#standardization",
    "title": "2  Randomized experiments",
    "section": "2.3 Standardization",
    "text": "2.3 Standardization\n简单说，当满足条件可交换性时，在每个亚组内观察到的\\(Pr[Y|A=1,L=1]=Pr[Y^a|L=1]\\),再根据L进行标准化，标准化的权重为Pr[L=l]",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Randomized experiments</span>"
    ]
  },
  {
    "objectID": "Randomized experiments.html#inverse-probability-weighting",
    "href": "Randomized experiments.html#inverse-probability-weighting",
    "title": "2  Randomized experiments",
    "section": "2.4 Inverse probability weighting",
    "text": "2.4 Inverse probability weighting\n\n\n\n\n\n\n逆概率加权和标准化的推导证明（难点）",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Randomized experiments</span>"
    ]
  },
  {
    "objectID": "Observation Study.html",
    "href": "Observation Study.html",
    "title": "3  Observation Study",
    "section": "",
    "text": "3.1 Identifiability conditions",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Observation Study</span>"
    ]
  },
  {
    "objectID": "Observation Study.html#exchangeability",
    "href": "Observation Study.html#exchangeability",
    "title": "3  Observation Study",
    "section": "3.2 Exchangeability",
    "text": "3.2 Exchangeability\n如何理解条件可交换性\n\n\n由于存在未测混在，你无法知道是否收集到了足够多的信息，也无法真的验证在不同的L层内影响结局的predictor真的均衡了，只能凭借专家知识。",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Observation Study</span>"
    ]
  },
  {
    "objectID": "Observation Study.html#positivity",
    "href": "Observation Study.html#positivity",
    "title": "3  Observation Study",
    "section": "3.3 Positivity",
    "text": "3.3 Positivity\nIn other words, we must ensure that there is a probability greater than zero—a positive probability—of being assigned to each of the treatment levels. This is the positivity condition.\n对于不需要调整的其他变量的分层下无需大于0，比如对于信上帝还是新默罕默德对于治疗心脏病的手术分配来说，无关紧要，不需要在信仰分层中概率仍然大于0",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Observation Study</span>"
    ]
  },
  {
    "objectID": "Observation Study.html#consistency-first-define-the-counterfactual-outcome",
    "href": "Observation Study.html#consistency-first-define-the-counterfactual-outcome",
    "title": "3  Observation Study",
    "section": "3.4 Consistency: First, define the counterfactual outcome",
    "text": "3.4 Consistency: First, define the counterfactual outcome\n一致性的定义：\n\n为了保证一致性的成立，需要明确定义干预。\n比如：研究体重和死亡关系，一种通过暴饮暴食增重，一种通过降低体育运动增重，结局就千差万别，这两种就是不够明确的干预定义。然而，如何知道我们的暴露定义足够明确呢？答案是不知道，尽可能的定义足够充分的干预/暴露。",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Observation Study</span>"
    ]
  },
  {
    "objectID": "Observation Study.html#consistency-second-link-counterfactuals-to-the-observed-data",
    "href": "Observation Study.html#consistency-second-link-counterfactuals-to-the-observed-data",
    "title": "3  Observation Study",
    "section": "3.5 Consistency: Second, link counterfactuals to the observed data",
    "text": "3.5 Consistency: Second, link counterfactuals to the observed data\n核心思想就是：干预定义的过于明确了以后，在观察研究中做不到这种干预。比如定义做手术的医生必须是华西毕业的工作10年以上的，并且没有出过事故的，在观察性研究中就很难做到。",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Observation Study</span>"
    ]
  },
  {
    "objectID": "Observation Study.html#the-target-trial",
    "href": "Observation Study.html#the-target-trial",
    "title": "3  Observation Study",
    "section": "3.6 The target trial",
    "text": "3.6 The target trial\n一致性、可交换性、正数性成立下，用观察性研究数据，基于标准化和逆概率加权，模拟目标试验。\n讨论一个案例：研究肥胖和死亡的因果效应，对于肥胖我们很难定义是通过减少运动的肥胖还是暴饮暴食的肥胖，干预不明确，因果问题因果效应也就不明确，一致性也无法保证。\n但是，有人会说，通过减轻体重许多死亡可以得到避免，即使干预（肥胖）定义的不够明确。\n围绕这种想法讨论：\n1、首先，不特定的干预措施可能是不合理的或不切实际的。例如，假设一些研究人员对减肥的健康影响感兴趣，但他们没有提出并明确模拟一个目标试验。相反，他们进行了一个简化的分析，比较了肥胖和非肥胖个体在40岁时的死亡风险。该比较暗含着一个目标试验，即在基线(通过一次大规模的吸脂术?)时，肥胖个体被瞬时转化为体重指数为25的个体。这种目标试验是无法被模仿的，因为很少有人，在真实世界中经历如此剧烈的瞬间变化，因此反事实的结果一般无法与观察到的结果联系起来。事实上，将观察数据分析锚定到目标试验中，不仅有助于尖锐因果问题，而且使因果推断对决策者更具有相关性。即使可获得的数据不足以模拟定义良好的干预措施的对比，情况也是如此。\n2、其次，不明确的干预措施使得互换性和积极性难以实现。由于导致条件可交换性的协变量集合L在不同干预措施之间可能存在差异，如果我们尽可能地放弃对干预措施的刻画，观察性研究中关于条件可交换性的通常不确定性将大大增加。此外，如果干预仍然是未指定的，就很难描述L的值的组合，这将使观察数据无法接受干预，这增加了无意中违反正性的风险。\n因此，当一个目标试验不能被合理地指定和模拟，或者更一般地，当反事实结果没有被充分定义时，我们可以做什么?\n答：non-causal prediction ，并承认关联的大小并不一定与因果的大小相对应。",
    "crumbs": [
      "Home",
      "I Causal inference without models",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Observation Study</span>"
    ]
  }
]